# âœ… ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ñ Ð½Ð° NestJS Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°!

## ðŸ“Š Ð˜Ñ‚Ð¾Ð³Ð¸ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸

**Ð”Ð°Ñ‚Ð° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ:** 2025-10-27
**Ð’ÐµÑ€ÑÐ¸Ñ:** 2.0.0
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… Ð£ÑÐ¿ÐµÑˆÐ½Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°

---

## ðŸŽ¯ Ð§Ñ‚Ð¾ Ð±Ñ‹Ð»Ð¾ ÑÐ´ÐµÐ»Ð°Ð½Ð¾

### Phase 1: Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹ âœ…
- âœ… Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹ NestJS core dependencies (@nestjs/common, @nestjs/core, @nestjs/platform-express)
- âœ… Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ @nestjs/config Ð´Ð»Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸
- âœ… Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ @nestjs/swagger Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸
- âœ… Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹ class-validator Ð¸ class-transformer Ð´Ð»Ñ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸
- âœ… Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ Joi Ð´Ð»Ñ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ environment Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ…
- âœ… Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹ NestJS CLI Ð¸ testing ÑƒÑ‚Ð¸Ð»Ð¸Ñ‚Ñ‹

### Phase 2: Ð‘Ð°Ð·Ð¾Ð²Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° âœ…
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½ `main.ts` - entry point Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½ `app.module.ts` - root module
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½ `app.controller.ts` - health check endpoint
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½ `app.service.ts` - health check logic
- âœ… ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½ `tsconfig.json` (Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ experimentalDecorators, emitDecoratorMetadata)
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½ `nest-cli.json` - ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ NestJS CLI

### Phase 3: Database Ð¸ Configuration âœ…
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½ `DatabaseModule` Ñ Ð³Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ñ‹Ð¼ Pool provider
- âœ… ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½ `ConfigModule` Ñ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸ÐµÐ¹ Ñ‡ÐµÑ€ÐµÐ· Joi
- âœ… Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð° Ð²ÑÑ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ðº PostgreSQL
- âœ… Pool Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ñ Ñ‚ÐµÐ¼Ð¸ Ð¶Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸ (max: 20, idleTimeout: 30s, connectionTimeout: 2s)

### Phase 4: Events Module âœ…
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½ `EventsModule` Ñ Ð¿Ð¾Ð»Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒÑŽ
- âœ… ÐœÐ¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½ `EventsController` Ñ Swagger Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÐµÐ¹
- âœ… ÐœÐ¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½ `EventsService` Ñ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼
- âœ… ÐœÐ¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½ `EventsRepository` Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸ÐµÐ¼ Ð²ÑÐµÑ… SQL Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½Ñ‹ DTOs Ñ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð°Ð¼Ð¸ Ð´Ð»Ñ Swagger
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½Ñ‹ entities Ð´Ð»Ñ Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸

**Endpoints:**
- `GET /api/events` - ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð²ÑÐµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ
- `GET /api/events/:id` - ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ð¼Ð¸ Ð¼ÐµÑÑ‚Ð°Ð¼Ð¸

### Phase 5: Bookings Module âœ…
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½ `BookingsModule` Ñ Ð¿Ð¾Ð»Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒÑŽ
- âœ… ÐœÐ¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½ `BookingsController` Ñ Swagger Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÐµÐ¹
- âœ… ÐœÐ¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½ `BookingsService` Ñ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼
- âœ… **ÐœÐ¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½ `BookingsRepository` Ñ Ð¡ÐžÐ¥Ð ÐÐÐ•ÐÐ˜Ð•Ðœ Ð¢Ð ÐÐÐ—ÐÐšÐ¦Ð˜Ð™**
  - âœ… Ð—Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ race conditions Ñ‡ÐµÑ€ÐµÐ· `SELECT ... FOR UPDATE`
  - âœ… Ð—Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ Ð´ÑƒÐ±Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· UNIQUE constraint
  - âœ… ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¹ (BEGIN/COMMIT/ROLLBACK)
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½Ñ‹ DTOs Ñ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸ÐµÐ¹ Ñ‡ÐµÑ€ÐµÐ· class-validator
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½Ñ‹ entities Ð´Ð»Ñ Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸

**Endpoints:**
- `POST /api/bookings/reserve` - Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
- `GET /api/bookings/event/:eventId` - ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ
- `GET /api/bookings/user/:userId` - ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ

### Phase 6: Common Utilities âœ…
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½ `AllExceptionsFilter` Ð´Ð»Ñ Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¹ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð¾ÑˆÐ¸Ð±Ð¾Ðº
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½ `LoggingInterceptor` Ð´Ð»Ñ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²
- âœ… ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½ Global ValidationPipe Ñ Ð°Ð²Ñ‚Ð¾Ñ‚Ñ€Ð°Ð½ÑÑ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÐµÐ¹
- âœ… Ð’ÑÐµ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ Ð¸ interceptors Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹ Ð³Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ð¾

### Phase 7: Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° âœ…
- âœ… ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½ Helmet Ð´Ð»Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸
- âœ… ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½ CORS
- âœ… ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½ Swagger UI Ð½Ð° `/api/docs`
- âœ… ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½ Graceful Shutdown (SIGTERM, SIGINT)
- âœ… ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½ API prefix `/api`
- âœ… ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹ npm scripts Ð´Ð»Ñ NestJS

### Phase 8: Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ âœ…
- âœ… ÐŸÑ€Ð¾ÐµÐºÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÐºÐ¾Ð¼Ð¿Ð¸Ð»Ð¸Ñ€ÑƒÐµÑ‚ÑÑ (`npm run build`)
- âœ… Ð’ÑÐµ TypeScript Ñ‚Ð¸Ð¿Ñ‹ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹
- âœ… Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¼Ð¾Ð´ÑƒÐ»ÐµÐ¹ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð°Ñ

### Phase 9: Cleanup âœ…
- âœ… Ð£Ð´Ð°Ð»ÐµÐ½Ñ‹ ÑÑ‚Ð°Ñ€Ñ‹Ðµ Express Ñ„Ð°Ð¹Ð»Ñ‹
- âœ… ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½ `package.json` (version 2.0.0, keywords, main field)
- âœ… ÐŸÑ€Ð¾ÐµÐºÑ‚ Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ð½ Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐµÐ½

---

## ðŸ“ ÐÐ¾Ð²Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
src/
â”œâ”€â”€ main.ts                                # Entry point
â”œâ”€â”€ app.module.ts                          # Root module
â”œâ”€â”€ app.controller.ts                      # Health check
â”œâ”€â”€ app.service.ts                         # Health check logic
â”œâ”€â”€ database/
â”‚   â””â”€â”€ database.module.ts                 # Database module (pg Pool)
â”œâ”€â”€ events/
â”‚   â”œâ”€â”€ events.module.ts
â”‚   â”œâ”€â”€ events.controller.ts
â”‚   â”œâ”€â”€ events.service.ts
â”‚   â”œâ”€â”€ events.repository.ts
â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â””â”€â”€ event-response.dto.ts
â”‚   â””â”€â”€ entities/
â”‚       â””â”€â”€ event.entity.ts
â”œâ”€â”€ bookings/
â”‚   â”œâ”€â”€ bookings.module.ts
â”‚   â”œâ”€â”€ bookings.controller.ts
â”‚   â”œâ”€â”€ bookings.service.ts
â”‚   â”œâ”€â”€ bookings.repository.ts             # Ð¡ Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸ÑÐ¼Ð¸!
â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”œâ”€â”€ create-booking.dto.ts
â”‚   â”‚   â””â”€â”€ booking-response.dto.ts
â”‚   â””â”€â”€ entities/
â”‚       â””â”€â”€ booking.entity.ts
â””â”€â”€ common/
    â”œâ”€â”€ filters/
    â”‚   â””â”€â”€ http-exception.filter.ts       # Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº
    â””â”€â”€ interceptors/
        â””â”€â”€ logging.interceptor.ts         # Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²
```

---

## ðŸ”‘ ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸

### âœ… Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¾ Ð¸Ð· Express Ð²ÐµÑ€ÑÐ¸Ð¸:
1. **Ð¢Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¸** - `SELECT ... FOR UPDATE` Ð´Ð»Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹ Ð¾Ñ‚ race conditions
2. **Ð—Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ Ð´ÑƒÐ±Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ** - UNIQUE constraint Ð½Ð° (event_id, user_id)
3. **Raw SQL Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹** - Ð²ÑÐµ SQL Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ñ‹ ÐºÐ°Ðº ÐµÑÑ‚ÑŒ
4. **Connection pooling** - Ñ‚Ðµ Ð¶Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Pool
5. **ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸** - node-pg-migrate Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ
6. **Environment Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ** - Ð¿ÐµÑ€ÐµÐ²ÐµÐ´ÐµÐ½Ð° Ð½Ð° Joi
7. **Graceful shutdown** - Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½

### âœ¨ Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾ Ð² NestJS Ð²ÐµÑ€ÑÐ¸Ð¸:
1. **ÐœÐ¾Ð´ÑƒÐ»ÑŒÐ½Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°** - EventsModule, BookingsModule
2. **Dependency Injection** - Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð²Ð½ÐµÐ´Ñ€ÐµÐ½Ð¸Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
3. **Ð”ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ñ‹** - @Controller, @Get, @Post, @Injectable
4. **Swagger Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ** - Ð°Ð²Ñ‚Ð¾Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð½Ð° `/api/docs`
5. **Class-validator** - Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ñ‹
6. **Exception filters** - Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº
7. **Interceptors** - Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²
8. **Type safety** - ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð½Ð°Ñ Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ñ‹

---

## ðŸ“ ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ðµ npm scripts

```json
{
  "dev": "nest start --watch",           // Development Ñ hot-reload
  "dev:debug": "nest start --debug --watch", // Debug mode
  "build": "nest build",                 // Build Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
  "start": "node dist/main.js",          // Production start
  "start:prod": "node dist/main.js",     // Production start
  "migrate:up": "node-pg-migrate up",    // ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
  "migrate:down": "node-pg-migrate down" // ÐžÑ‚ÐºÐ°Ñ‚Ð¸Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
}
```

---

## ðŸš€ ÐšÐ°Ðº Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ

### Development
```bash
npm run dev
```

### Production
```bash
npm run build
npm start
```

### Ð¡ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑÐ¼Ð¸
```bash
npm run migrate:up
npm run dev
```

---

## ðŸ”— Endpoints

| Method | Path | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|--------|------|----------|
| GET | `/health` | Health check |
| GET | `/api/events` | Ð’ÑÐµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ |
| GET | `/api/events/:id` | Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð¿Ð¾ ID Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ð¼Ð¸ Ð¼ÐµÑÑ‚Ð°Ð¼Ð¸ |
| POST | `/api/bookings/reserve` | Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ |
| GET | `/api/bookings/event/:eventId` | Ð‘Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ |
| GET | `/api/bookings/user/:userId` | Ð‘Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ |
| GET | `/api/docs` | Swagger Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ |

---

## ðŸ“– Swagger Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ

ÐŸÐ¾ÑÐ»Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ:

```
http://localhost:3000/api/docs
```

Swagger Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð¸Ð· Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð² Ð¸ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚:
- Ð˜Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½ÑƒÑŽ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ
- Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ API Ð¿Ñ€ÑÐ¼Ð¾ Ð¸Ð· Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð°
- Ð¡Ñ…ÐµÐ¼Ñ‹ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²
- ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…

---

## âœ… ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¸ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾Ð¹ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸

| ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ | Ð¡Ñ‚Ð°Ñ‚ÑƒÑ |
|----------|--------|
| Ð’ÑÐµ API endpoints Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ | âœ… |
| Ð—Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ race conditions ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð° | âœ… |
| Ð—Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ Ð´ÑƒÐ±Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ | âœ… |
| Health check endpoint Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ | âœ… |
| Graceful shutdown Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ | âœ… |
| ÐšÐ¾Ð´ ÑÐ»ÐµÐ´ÑƒÐµÑ‚ NestJS best practices | âœ… |
| TypeScript Ñ‚Ð¸Ð¿Ñ‹ Ð²ÐµÐ·Ð´Ðµ | âœ… |
| Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð½Ð° Ð²ÑÐµÑ… Ð²Ñ…Ð¾Ð´Ð°Ñ… | âœ… |
| Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ | âœ… |
| ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð° | âœ… |
| Swagger Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ | âœ… |
| ÐŸÑ€Ð¾ÐµÐºÑ‚ ÐºÐ¾Ð¼Ð¿Ð¸Ð»Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð±ÐµÐ· Ð¾ÑˆÐ¸Ð±Ð¾Ðº | âœ… |

---

## ðŸ“¦ Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

### Production
- @nestjs/common, @nestjs/core, @nestjs/platform-express - NestJS core
- @nestjs/config - ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
- @nestjs/swagger - Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
- class-validator, class-transformer - Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ
- pg - PostgreSQL Ð´Ñ€Ð°Ð¹Ð²ÐµÑ€
- joi - Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ env
- helmet - Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ
- cors - CORS
- reflect-metadata - Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ñ‹
- rxjs - reactive programming

### Development
- @nestjs/cli - NestJS CLI
- @nestjs/schematics - Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ñ‹ ÐºÐ¾Ð´Ð°
- @nestjs/testing - Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
- node-pg-migrate - Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð‘Ð”
- typescript - ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ‚Ð¾Ñ€
- eslint, prettier - code quality

---

## ðŸŽ“ Ð§Ñ‚Ð¾ Ð´Ð°Ð»ÑŒÑˆÐµ?

### Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ñ:

1. **Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ**
   - Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ unit Ñ‚ÐµÑÑ‚Ñ‹ Ð´Ð»Ñ services
   - Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ integration Ñ‚ÐµÑÑ‚Ñ‹ Ð´Ð»Ñ controllers
   - Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ e2e Ñ‚ÐµÑÑ‚Ñ‹ Ð´Ð»Ñ API

2. **Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¼Ð¾Ð´ÑƒÐ»Ð¸**
   - AuthModule - Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¸ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ
   - UsersModule - ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼Ð¸
   - NotificationsModule - ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ

3. **ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ**
   - Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐµÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ (Redis)
   - Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ rate limiting
   - Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ pagination Ð´Ð»Ñ ÑÐ¿Ð¸ÑÐºÐ¾Ð²

4. **ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³**
   - Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸ (Prometheus)
   - Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‚Ñ€ÐµÐ¹ÑÐ¸Ð½Ð³ (Jaeger)
   - Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

5. **CI/CD**
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ GitHub Actions
   - Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ‚ÐµÑÑ‚Ñ‹
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ deploy

---

## ðŸ™ Ð—Ð°ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ

ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ñ Ð½Ð° NestJS **ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°**!

Ð’ÑÐµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Express Ð²ÐµÑ€ÑÐ¸Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ñ‹, Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð½Ð¾Ð²Ñ‹Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ NestJS:
- ÐœÐ¾Ð´ÑƒÐ»ÑŒÐ½Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°
- Dependency Injection
- Swagger Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
- Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð½Ð°Ñ type safety
- Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº

ÐŸÑ€Ð¾ÐµÐºÑ‚ Ð³Ð¾Ñ‚Ð¾Ð² Ðº Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐµ Ð¸ production Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÑŽ! ðŸš€

---

**Ð’ÐµÑ€ÑÐ¸Ñ:** 2.0.0
**Framework:** NestJS 10.x
**Database:** PostgreSQL
**Node:** >=18.0.0
